<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
    <style>
        main{
            max-width: 350px;
            min-height: 100vh;
            margin: auto;
            display: flex;
            align-items: center;
        }
        fieldset, input, .btn_submit>input{
            border: 1px solid #999999;
            border-radius: 5px;
            width: 100%;
        }
        input, .btn_submit>input{
             cursor: pointer;
        }
        fieldset{
            padding:0px 20px 20px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .form_group{
            margin: 20px 0px;
        }
        .form_group > span {
            color: red;
        }
        input{
            height: 30px;
        }
        input[type=number]::-webkit-inner-spin-button{
            -webkit-appearance: none;
        }
        .btn_submit>input{
            margin: 2px 0px;
        }
        input:hover{
            border: 1px solid ;
        }
    </style>
    <script>
        function isEmpty(){
            let name = document.getElementById("txt_User").value;
            let pass = document.getElementById("txt_Pass").value;
            let email = document.getElementById("txt_Email").value;
            
            if (name == ''){
                document.getElementById("error_user").innerHTML = "Tên đăng nhập không được trống";
            }
            if (pass == '') {
                document.getElementById("error_pass").innerHTML = "Mật khẩu không được trống";
            }
            if (email == ''){
                document.getElementById("error_email").innerHTML = "Email không được trống";
            }
        }

        function charMin(){
            let name = document.getElementById("txt_User").value;
            let pass = document.getElementById("txt_Pass").value;
            let phone = document.getElementById("txt_Phone").value;
            
            if(0 < name.length && name.length <= 4){
                document.getElementById("error_user").innerHTML = "Tên Đăng nhập tối thiểu 5 kí tự";
            }
            else {
                console.log(name.length);
            }
            // (0 < name.length && name.length <= 4) ? document.getElementById("error_user").innerHTML = "Tên Đăng nhập tối thiểu 5 kí tự" : console.log("user: " +name.length);
            if(0 < pass.length && pass.length <= 7){
                
                document.getElementById("error_pass").innerHTML = "Mật Khẩu tối thiểu 8 kí tự";
            }
            // (0 < pass.length && pass.length <= 7) ? document.getElementById("error_pass").innerHTML = "Mật Khẩu tối thiểu 8 kí tự" : console.log("pass: " + pass.length);
            if(phone.length != 10){
                document.getElementById("error_phone").innerHTML = "Số điện thoại không hợp lệ";
            }
            // (phone.length != 10) ? document.getElementById("error_phone").innerHTML = "Số điện thoại không hợp lệ" : console.log("phone: " + phone.length);
        }

        function specialChar(){
            let name = document.getElementById("txt_User").value;
            let reg = /\W|_/g;
            let result = reg.test(name);
            if(result == true ){
                document.getElementById("error_user").innerHTML = "Không được chứa kí tự đặc biệt";
            }
        }

        function submitPass(){
            let pass = document.getElementById("txt_Pass").value;
            let subPass = document.getElementById("txt_SubmitPass").value;
            // if(pass !== subPass) {
            //     document.getElementById("error_subPass").innerHTML = "Mật khẩu không giống nhau";
            // }
            pass != subPass ? document.getElementById("error_subPass").innerHTML = "Mật khẩu không giống nhau" : console.log("subPass: " + subPass.length);
        }

        function formatEmail(){
            let email = document.getElementById("txt_Email").value;
            let headFormat = email.indexOf("@");
            let tailFormat = email.lastIndexOf(".");
            if((headFormat < 1) || (tailFormat - headFormat < 2)) {
                document.getElementById("error_email").innerHTML = "Địa chỉ email không hợp lệ";
            }
        }
        function resetPage(){
            let name = document.getElementById("txt_User").value;
            let pass = document.getElementById("txt_Pass").value;
            let email = document.getElementById("txt_Email").value;
            let subPass = document.getElementById("txt_SubmitPass").value;
            let phone = document.getElementById("txt_Phone").value;
            let errorUser = '';
            document.getElementById("error_user").innerHTML = errorUser;
            let errorPass = '';
            document.getElementById("error_pass").innerHTML = errorPass;
            let errorEmail = '';
            document.getElementById("error_email").innerHTML = errorEmail;
            let errorSubPass = '';
            document.getElementById("error_subPass").innerHTML = errorSubPass;
            let errorPhone = '';
            document.getElementById("error_phone").innerHTML = errorPhone;
            let errorAddress = '';
            document.getElementById("error_address").innerHTML = errorAddress;
        }


        function Check() {
            resetPage();
            isEmpty();
            charMin();
            specialChar();
            submitPass();
            formatEmail();
        }
    </script>
</head>
<body>
    <main>
        <fieldset>
            <legend>Đăng ký</legend>
            <form action="">
                <div class="form_group">
                    <label for="">Username: </label><br>
                    <input type="text" name="" id="txt_User" required><br>
                    <span id="error_user"></span>
                </div>
                <div class="form_group">
                    <label for="">Mật khẩu: </label><br>
                    <input type="password" name="" id="txt_Pass" required><br>
                    <span id="error_pass"></span>
                </div>
                <div class="form_group">
                    <label for="">Nhập lại mật khẩu: </label><br>
                    <input type="password" name="" id="txt_SubmitPass"><br>
                    <span id="error_subPass"></span>
                </div>
                <div class="form_group">
                    <label for="">Số điện thoại: </label><br>
                    <input type="number" name="" id="txt_Phone"><br>
                    <span id="error_phone"></span>
                </div>
                <div class="form_group">
                    <label for="">Email: </label><br>
                    <input type="email" name="" id="txt_Email"><br>
                    <span id="error_email"></span>
                </div>
                <div class="form_group">
                    <label for="">Địa chỉ: </label><br>
                    <input type="text" name="" id="txt_Address"><br>
                    <span id="error_address"></span>
                </div>      
                <div class="btn_submit">
                    <input type="button" value="Xác Nhận" onclick="Check()">
                    <input type="reset" value="Hủy">
                </div>
            </form>
        </fieldset>
    </main>
</body>
</html>